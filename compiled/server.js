const path = require('path');
const express = require('express');
// const { send } = require('process');
const db = require('./public/database/index');
let app = express();

app.use(express.static(__dirname + '/public'));
app.use(express.json());
app.use(express.urlencoded({ extended: true }));

app.post('/checkout', (req, res) => {
  db.save(req.body, (err, data) => {
    if (err) {
      res.status(500);
    } else {
      res.status(201);res.send('your puchase has been completed');
    }
  });
});

let port = 3002;

app.listen(port, () => {
  console.log('Listening on port: ' + port);
});

module.exports = app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NlcnZlci5qcyJdLCJuYW1lcyI6WyJwYXRoIiwicmVxdWlyZSIsImV4cHJlc3MiLCJkYiIsImFwcCIsInVzZSIsInN0YXRpYyIsIl9fZGlybmFtZSIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJwb3N0IiwicmVxIiwicmVzIiwic2F2ZSIsImJvZHkiLCJlcnIiLCJkYXRhIiwic3RhdHVzIiwic2VuZCIsInBvcnQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBT0MsUUFBUSxNQUFSLENBQWI7QUFDQSxNQUFNQyxVQUFVRCxRQUFRLFNBQVIsQ0FBaEI7QUFDQTtBQUNBLE1BQU1FLEtBQUtGLFFBQVEseUJBQVIsQ0FBWDtBQUNBLElBQUlHLE1BQU1GLFNBQVY7O0FBRUFFLElBQUlDLEdBQUosQ0FBUUgsUUFBUUksTUFBUixDQUFlQyxZQUFZLFNBQTNCLENBQVI7QUFDQUgsSUFBSUMsR0FBSixDQUFRSCxRQUFRTSxJQUFSLEVBQVI7QUFDQUosSUFBSUMsR0FBSixDQUFRSCxRQUFRTyxVQUFSLENBQW1CLEVBQUVDLFVBQVUsSUFBWixFQUFuQixDQUFSOztBQUdBTixJQUFJTyxJQUFKLENBQVMsV0FBVCxFQUFzQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUNsQ1YsS0FBR1csSUFBSCxDQUFRRixJQUFJRyxJQUFaLEVBQWtCLENBQUNDLEdBQUQsRUFBTUMsSUFBTixLQUFlO0FBQy9CLFFBQUlELEdBQUosRUFBUztBQUFFSCxVQUFJSyxNQUFKLENBQVcsR0FBWDtBQUFrQixLQUE3QixNQUFtQztBQUFFTCxVQUFJSyxNQUFKLENBQVcsR0FBWCxFQUFpQkwsSUFBSU0sSUFBSixDQUFTLGlDQUFUO0FBQThDO0FBQ3JHLEdBRkQ7QUFHRCxDQUpEOztBQVFBLElBQUlDLE9BQU8sSUFBWDs7QUFFQWhCLElBQUlpQixNQUFKLENBQVdELElBQVgsRUFBaUIsTUFBTTtBQUNyQkUsVUFBUUMsR0FBUixDQUFZLHdCQUF3QkgsSUFBcEM7QUFDRCxDQUZEOztBQUtBSSxPQUFPQyxPQUFQLEdBQWlCckIsR0FBakIiLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuLy8gY29uc3QgeyBzZW5kIH0gPSByZXF1aXJlKCdwcm9jZXNzJyk7XHJcbmNvbnN0IGRiID0gcmVxdWlyZSgnLi9wdWJsaWMvZGF0YWJhc2UvaW5kZXgnKTtcclxubGV0IGFwcCA9IGV4cHJlc3MoKTtcclxuXHJcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lICsgJy9wdWJsaWMnKSk7XHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcclxuXHJcblxyXG5hcHAucG9zdCgnL2NoZWNrb3V0JywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgZGIuc2F2ZShyZXEuYm9keSwgKGVyciwgZGF0YSkgPT4ge1xyXG4gICAgaWYgKGVycikgeyByZXMuc3RhdHVzKDUwMCk7IH0gZWxzZSB7IHJlcy5zdGF0dXMoMjAxKTsgcmVzLnNlbmQoJ3lvdXIgcHVjaGFzZSBoYXMgYmVlbiBjb21wbGV0ZWQnKTsgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcblxyXG5cclxubGV0IHBvcnQgPSAzMDAyO1xyXG5cclxuYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ0xpc3RlbmluZyBvbiBwb3J0OiAnICsgcG9ydCk7XHJcbn0pO1xyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gYXBwOyJdfQ==