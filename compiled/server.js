const path = require('path');
const express = require('express');
// const { send } = require('process');
const db = require('./public/database/index');
let app = express();

app.use(express.static(__dirname + '/public'));
app.use(express.json());
app.use(express.urlencoded({ extended: true }));

app.post('/checkout', (req, res) => {
  // res.send(req.body);
  db.save(req.body, (err, data) => {
    if (err) {
      res.status(500);
    } else {
      res.status(201);res.send('your puchase has been completed');
    }
  });
});

app.get('/checkout', (req, res) => {
  db.find((err, data) => {
    if (err) {
      res.status(500);
    } else {
      console.log(data);res.json(data);
    }
  });
});

let port = 3002;

app.listen(port, () => {
  console.log('Listening on port: ' + port);
});

module.exports = app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NlcnZlci5qcyJdLCJuYW1lcyI6WyJwYXRoIiwicmVxdWlyZSIsImV4cHJlc3MiLCJkYiIsImFwcCIsInVzZSIsInN0YXRpYyIsIl9fZGlybmFtZSIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJwb3N0IiwicmVxIiwicmVzIiwic2F2ZSIsImJvZHkiLCJlcnIiLCJkYXRhIiwic3RhdHVzIiwic2VuZCIsImdldCIsImZpbmQiLCJjb25zb2xlIiwibG9nIiwicG9ydCIsImxpc3RlbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU9DLFFBQVEsTUFBUixDQUFiO0FBQ0EsTUFBTUMsVUFBVUQsUUFBUSxTQUFSLENBQWhCO0FBQ0E7QUFDQSxNQUFNRSxLQUFLRixRQUFRLHlCQUFSLENBQVg7QUFDQSxJQUFJRyxNQUFNRixTQUFWOztBQUVBRSxJQUFJQyxHQUFKLENBQVFILFFBQVFJLE1BQVIsQ0FBZUMsWUFBWSxTQUEzQixDQUFSO0FBQ0FILElBQUlDLEdBQUosQ0FBUUgsUUFBUU0sSUFBUixFQUFSO0FBQ0FKLElBQUlDLEdBQUosQ0FBUUgsUUFBUU8sVUFBUixDQUFtQixFQUFFQyxVQUFVLElBQVosRUFBbkIsQ0FBUjs7QUFHQU4sSUFBSU8sSUFBSixDQUFTLFdBQVQsRUFBc0IsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDbEM7QUFDQVYsS0FBR1csSUFBSCxDQUFRRixJQUFJRyxJQUFaLEVBQWtCLENBQUNDLEdBQUQsRUFBTUMsSUFBTixLQUFlO0FBQy9CLFFBQUlELEdBQUosRUFBUztBQUFFSCxVQUFJSyxNQUFKLENBQVcsR0FBWDtBQUFrQixLQUE3QixNQUFtQztBQUFFTCxVQUFJSyxNQUFKLENBQVcsR0FBWCxFQUFpQkwsSUFBSU0sSUFBSixDQUFTLGlDQUFUO0FBQThDO0FBQ3JHLEdBRkQ7QUFHRCxDQUxEOztBQU9BZixJQUFJZ0IsR0FBSixDQUFRLFdBQVIsRUFBcUIsQ0FBQ1IsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDakNWLEtBQUdrQixJQUFILENBQVEsQ0FBQ0wsR0FBRCxFQUFNQyxJQUFOLEtBQWU7QUFDckIsUUFBSUQsR0FBSixFQUFTO0FBQUVILFVBQUlLLE1BQUosQ0FBVyxHQUFYO0FBQWtCLEtBQTdCLE1BQW1DO0FBQUVJLGNBQVFDLEdBQVIsQ0FBWU4sSUFBWixFQUFtQkosSUFBSUwsSUFBSixDQUFTUyxJQUFUO0FBQWlCO0FBQzFFLEdBRkQ7QUFHRCxDQUpEOztBQVFBLElBQUlPLE9BQU8sSUFBWDs7QUFFQXBCLElBQUlxQixNQUFKLENBQVdELElBQVgsRUFBaUIsTUFBTTtBQUNyQkYsVUFBUUMsR0FBUixDQUFZLHdCQUF3QkMsSUFBcEM7QUFDRCxDQUZEOztBQUtBRSxPQUFPQyxPQUFQLEdBQWlCdkIsR0FBakIiLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuLy8gY29uc3QgeyBzZW5kIH0gPSByZXF1aXJlKCdwcm9jZXNzJyk7XHJcbmNvbnN0IGRiID0gcmVxdWlyZSgnLi9wdWJsaWMvZGF0YWJhc2UvaW5kZXgnKTtcclxubGV0IGFwcCA9IGV4cHJlc3MoKTtcclxuXHJcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lICsgJy9wdWJsaWMnKSk7XHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcclxuXHJcblxyXG5hcHAucG9zdCgnL2NoZWNrb3V0JywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgLy8gcmVzLnNlbmQocmVxLmJvZHkpO1xyXG4gIGRiLnNhdmUocmVxLmJvZHksIChlcnIsIGRhdGEpID0+IHtcclxuICAgIGlmIChlcnIpIHsgcmVzLnN0YXR1cyg1MDApOyB9IGVsc2UgeyByZXMuc3RhdHVzKDIwMSk7IHJlcy5zZW5kKCd5b3VyIHB1Y2hhc2UgaGFzIGJlZW4gY29tcGxldGVkJyk7IH1cclxuICB9KTtcclxufSk7XHJcblxyXG5hcHAuZ2V0KCcvY2hlY2tvdXQnLCAocmVxLCByZXMpID0+IHtcclxuICBkYi5maW5kKChlcnIsIGRhdGEpID0+IHtcclxuICAgIGlmIChlcnIpIHsgcmVzLnN0YXR1cyg1MDApOyB9IGVsc2UgeyBjb25zb2xlLmxvZyhkYXRhKTsgcmVzLmpzb24oZGF0YSk7IH1cclxuICB9KTtcclxufSk7XHJcblxyXG5cclxuXHJcbmxldCBwb3J0ID0gMzAwMjtcclxuXHJcbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdMaXN0ZW5pbmcgb24gcG9ydDogJyArIHBvcnQpO1xyXG59KTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGFwcDsiXX0=